var paged_users="";function wdm_create_pie_chart(e,t,r,o){jQuery("#wdm_report_div").highcharts({credits:{enabled:!1},chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1},title:{text:o},tooltip:{pointFormat:"{series.name}: <b>{point.percentage:.1f}%</b>"},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!1},showInLegend:!0}},colors:["#A5A5A5","#C3DD5A","#5CB85C"],series:[{type:"pie",name:wdm_reports_obj.piece_title,data:[{name:wdm_reports_obj.not_started_text,y:parseFloat(e),sliced:!1,selected:!0},[wdm_reports_obj.in_progress_text,parseFloat(t)],[wdm_reports_obj.completed_text,parseFloat(r)]]}]})}function wdm_change_report(e){var t=e.value;void 0!==t&&""!=t&&jQuery.ajax({url:wdm_reports_obj.admin_ajax_path,type:"POST",dataType:"json",data:{action:"wdm_get_report_html",course_id:t,request_type:"ajax",wdm_pagination_select:jQuery('select[name="wdm_pagination_select"]').val()},success:function(e){e?(paged_users=e.paged_users,wdm_reports_obj.paged_index=0,jQuery("#wdm_main_report_div").empty().html(e.html),wdm_create_pie_chart(e.not_started_per,e.in_progress_per,e.completed_per,e.graph_heading),jQuery("#wdm_report_tbl").footable({breakpoints:{tablet:768,phone:480}})):jQuery("#wdm_main_report_div").empty().html(wdm_reports_obj.no_reports_html)}})}function wdm_show_email_form(e){""!=e&&(jQuery("#wdm_staff_mail_id").val(e),popup("popUpDiv"),jQuery("#wdm_staff_mail_msg").html(""))}function wdm_individual_send_email(){var e,t="",r="",o=jQuery("#wdm_staff_mail_id"),d=jQuery("#wdm_staff_mail_subject"),a=jQuery("#wdm_staff_mail_body"),n=jQuery("#wdm_btn_send_mail"),i=jQuery("#wdm_staff_mail_msg");return e=o.val(),t=d.val(),r=a.val(),i.html(""),0==t.trim().length?(i.html(" Please fill subject field"),!1):0==r.trim().length?(i.html(" Please fill mail body"),!1):void(e&&jQuery.ajax({url:wdm_reports_obj.admin_ajax_path,data:{action:"wdm_send_mail_to_individual_user",email:e,subject:t,body:r},type:"post",dataType:"json",beforeSend:function(e){n.attr("disabled","disabled"),n.css("cursor","wait")}}).done(function(e){e?i.html("<span style='color:green';>"+wdm_reports_obj.success_msg+"</span>"):i.html("<span style='color:red';>"+wdm_reports_obj.failure_msg+"</span>"),n.removeAttr("disabled"),n.css("cursor","pointer"),d.val(""),a.val("")}))}function toggle(e){var t=document.getElementById(e);"none"==t.style.display?t.style.display="block":t.style.display="none"}function blanket_size(e){void 0!==window.innerWidth?viewportheight=window.innerHeight:viewportheight=document.documentElement.clientHeight,viewportheight>document.body.parentNode.scrollHeight&&viewportheight>document.body.parentNode.clientHeight?blanket_height=viewportheight:document.body.parentNode.clientHeight>document.body.parentNode.scrollHeight?blanket_height=document.body.parentNode.clientHeight:blanket_height=document.body.parentNode.scrollHeight,document.getElementById("blanket").style.height=blanket_height+"px";var t=document.getElementById(e);popUpDiv_height=blanket_height/2-200;var r=.25*jQuery(window).height();t.style.top=jQuery(window).scrollTop()+r+"px"}function window_pos(e){void 0!==window.innerWidth?viewportwidth=window.innerHeight:viewportwidth=document.documentElement.clientHeight,viewportwidth>document.body.parentNode.scrollWidth&&viewportwidth>document.body.parentNode.clientWidth?window_width=viewportwidth:document.body.parentNode.clientWidth>document.body.parentNode.scrollWidth?window_width=document.body.parentNode.clientWidth:window_width=document.body.parentNode.scrollWidth;var t=document.getElementById(e);window_width=window_width/2-200,t.style.left="17%"}function popup(e){blanket_size(e),window_pos(e),toggle("blanket"),toggle(e)}function wdm_js_ajax_pagination(e){if(e=parseInt(e),void 0!==paged_users[e]){if(wdm_reports_obj.paged_index==e)return;jQuery(".wdm-paged").css("color","#0074a2"),jQuery(".wdm-paged").css("cursor","pointer");var t=paged_users[e],r=jQuery("#post_id_report").val(),o=0,d=0,a=paged_users.length;e>0&&e<a-1?(o=e-1,d=e+1):0==e?(o=0,d=1,jQuery("#wdm_first_page, #wdm_prev_page").css("color","#A5A4A4"),jQuery("#wdm_first_page, #wdm_prev_page").css("cursor","default")):e==a-1&&(o=e-1,d=e,jQuery("#wdm_next_page, #wdm_last_page").css("color","#A5A4A4"),jQuery("#wdm_next_page, #wdm_last_page").css("cursor","default"));var n="javascript:wdm_js_ajax_pagination(replce_index);";jQuery.ajax({url:wdm_reports_obj.admin_ajax_path,type:"POST",dataType:"html",data:{action:"wdm_get_user_html",users:t,current_post:r},success:function(t){t&&(wdm_reports_obj.paged_index=e,jQuery("#wdm_paged_start_num").html(e+1),jQuery("#wdm_prev_page").attr("href",n.replace("replce_index",o)),jQuery("#wdm_next_page").attr("href",n.replace("replce_index",d)),jQuery("#wdm_report_tbl tbody").hide("fadeOut"),jQuery("#wdm_report_tbl tbody").html(t),jQuery("#wdm_report_tbl tbody").show("fadeIn"))}})}}jQuery(document).ready(function(){jQuery("#wdm_report_tbl").footable({breakpoints:{tablet:768,phone:480}}),jQuery("#wdm_main_report_div").delegate("#instructor_message_form","submit",function(e){var t=jQuery("#learndash_instructor_subject"),r=jQuery("#learndash_instructor_message");return 0==t.val().length||""==jQuery.trim(t.val())?(jQuery("#learndash_instructor_subject_err").css("color","red"),jQuery("#learndash_instructor_subject_err").html("Please enter email subject"),!1):(jQuery("#learndash_instructor_subject_err").html(""),0==r.val().length||""==jQuery.trim(r.val())?(jQuery("#learndash_instructor_message_err").css("color","red"),jQuery("#learndash_instructor_message_err").html("Please enter email body"),!1):void jQuery("#learndash_instructor_message_err").html(""))}),jQuery("#wp-media-grid .select-mode-toggle-button, #wp-media-grid .delete-selected-button").remove()}),jQuery(document).ready(function(){if("undefined"!=typeof wdm_reports_obj&&"undefined"!=wdm_reports_obj&&""!=wdm_reports_obj){var e=wdm_reports_obj.not_started_per,t=wdm_reports_obj.in_progress_per,r=wdm_reports_obj.completed_per,o=wdm_reports_obj.graph_heading;paged_users=wdm_reports_obj.paged_users,wdm_create_pie_chart(e,t,r,o)}}),"undefined"!=typeof autosaveL10n&&(autosaveL10n.autosaveInterval=6e3),jQuery("document").ready(function(){jQuery("#taxonomy-category input").removeAttr("disabled"),jQuery("#category-add-submit").click(function(){setTimeout(function(){jQuery("#taxonomy-category input").removeAttr("disabled")},5e3)})});